<template>
  <div class="prompt-manager">
    <!-- é¡¶éƒ¨æ  -->
    <div class="header-bar">
      <h2 class="page-title">åŠŸèƒ½è¯´æ˜ä¸è‡´è°¢</h2>
      <div class="toolbar">
        <el-button type="danger" plain round @click="noticeVisible = true">
          <el-icon style="margin-right: 6px;">
            <WarningFilled />
          </el-icon>
          æç¤ºè¯è¯´æ˜
        </el-button>
      </div>
    </div>

    <!-- æç¤ºè¯è¯´æ˜å¼¹çª— -->
    <el-dialog v-model="noticeVisible" title="ğŸ“¢ æç¤ºè¯å¿…å¤‡æ ¼å¼è¯´æ˜" width="750px">
      <div class="notice-content">
        <p>âš ï¸ åˆ›å»ºæç¤ºè¯æ—¶ï¼Œå¿…é¡»éµå®ˆä»¥ä¸‹è§„åˆ™ï¼Œå¦åˆ™ä¼šåˆ›å»ºå¤±è´¥ï¼š</p>

        <p>
          âœ… å¿…é¡»åŒ…å« <strong>å°è¯´åŸæ–‡</strong>ï¼š
          <code>
&lt;novel_content&gt;<br />
{novel_content}<br />
&lt;/novel_content&gt;
      </code>
        </p>

        <p style="color: #e53935; font-weight: bold;">
  âš ï¸ æ³¨æ„ï¼š<strong>è¾“å‡ºå¿…é¡»ä¸¥æ ¼ä¸º JSON æ ¼å¼ï¼</strong><br>
  <span style="color: #999; font-weight: normal;">
    ï¼ˆä¸å†ä½¿ç”¨ <code>&lt;result&gt;</code> æ ‡ç­¾æ ¼å¼ï¼‰
  </span>
</p>

        <p>
          âœ… <strong>è¾“å‡º JSON æ•°ç»„</strong> ä¸­çš„æ¯ä¸ªå¯¹è±¡å¿…é¡»åŒ…å«ä»¥ä¸‹å››ä¸ªå‚æ•°ï¼š
          <code>
{<br />
&nbsp;&nbsp;"role_name" ,<br />
&nbsp;&nbsp;"text_content" <br />
&nbsp;&nbsp;"emotion_name" <br />
&nbsp;&nbsp;"strength_name"<br />
}
      </code>
        </p>

        <p>
          â• ä»¥ä¸‹æ ‡ç­¾ä¸º <strong>å¯é€‰</strong>ï¼ˆæ ¹æ®éœ€è¦æ·»åŠ ï¼Œä¸éœ€è¦å¯çœç•¥ï¼‰ï¼š
        </p>

        <p>
          <code>
&lt;possible_characters&gt;<br />
{possible_characters}<br />
&lt;/possible_characters&gt;
      </code>
        </p>

        <p>
          <code>
&lt;possible_emotions&gt;<br />
{possible_emotions}<br />
&lt;/possible_emotions&gt;
      </code>
        </p>

        <p>
          <code>
&lt;possible_strengths&gt;<br />
{possible_strengths}<br />
&lt;/possible_strengths&gt;
      </code>
        </p>
      </div>

      <template #footer>
        <el-button type="primary" @click="noticeVisible = false">æˆ‘å·²äº†è§£</el-button>
      </template>
    </el-dialog>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <div class="content-area">
      <!-- è‡´è°¢å¡ç‰‡ -->
      <el-card shadow="hover" class="info-card">
        <template #header>
          <div class="card-header-custom">
            <el-icon size="24" color="#ff6b6b"><Star /></el-icon>
            <span class="card-title">ğŸ™ ç‰¹åˆ«è‡´è°¢</span>
          </div>
        </template>
        <div class="card-content">
          <p class="thanks-text">
            æœ¬è½¯ä»¶çš„å‰ç«¯ç•Œé¢åŸºäºå¼€æºé¡¹ç›® <strong style="color: #ff6b6b;">ã€ŠéŸ³è°· - AI å¤šè§’è‰²å¤šæƒ…ç»ªé…éŸ³å¹³å°ã€‹</strong> è¿›è¡Œå¼€å‘ã€‚
          </p>
          <p class="thanks-text">
            æ„Ÿè°¢åŸä½œè€… <strong>xcLee001</strong> çš„æ— ç§è´¡çŒ®ï¼Œä¸º AI é…éŸ³é¢†åŸŸæä¾›äº†ä¼˜ç§€çš„å¼€æºè§£å†³æ–¹æ¡ˆã€‚
          </p>
          <div class="project-link">
            <el-button type="primary" plain @click="openGithub">
              <el-icon><Link /></el-icon>
              è®¿é—®éŸ³è°·é¡¹ç›®åœ°å€
            </el-button>
          </div>
        </div>
      </el-card>

      <!-- åŠŸèƒ½è¯´æ˜å¡ç‰‡ -->
      <el-card shadow="hover" class="info-card">
        <template #header>
          <div class="card-header-custom">
            <el-icon size="24" color="#ffa94d"><InfoFilled /></el-icon>
            <span class="card-title">ğŸ“– åŠŸèƒ½è¯´æ˜</span>
          </div>
        </template>
        <div class="card-content">
          <h3 class="section-title">ğŸ¯ æ ¸å¿ƒåŠŸèƒ½</h3>
          <ul class="feature-list">
            <li>âœ… å¤šè§’è‰²ã€å¤šæƒ…ç»ª AI é…éŸ³ç”Ÿæˆ</li>
            <li>âœ… æ”¯æŒå°è¯´ã€å‰§æœ¬ã€è§†é¢‘ç­‰å†…å®¹çš„è‡ªåŠ¨é…éŸ³</li>
            <li>âœ… è§’è‰²åº“ç®¡ç†ä¸æƒ…ç»ªéŸ³è‰²ç»‘å®š</li>
            <li>âœ… æ‰¹é‡ä»»åŠ¡ç®¡ç†ä¸éŸ³é¢‘å¯¼å‡º</li>
            <li>âœ… åŸºäº IndexTTS-2.0 çš„å¤šæƒ…ç»ª TTS æœåŠ¡</li>
            <li>âœ… ç²¾å‡†çš„éŸ³é¢‘ç¼–è¾‘åŠŸèƒ½ï¼ˆåˆ é™¤/æ·»åŠ é™éŸ³ç‰‡æ®µï¼‰</li>
          </ul>

          <h3 class="section-title">ğŸ›  æŠ€æœ¯æ ˆ</h3>
          <ul class="tech-list">
            <li><strong>å‰ç«¯ï¼š</strong>Electron + Vue 3 + Element Plus</li>
            <li><strong>åç«¯ï¼š</strong>FastAPI + Python</li>
            <li><strong>TTSï¼š</strong>IndexTTS-2 æœ¬åœ°éƒ¨ç½²</li>
          </ul>
        </div>
      </el-card>

      <!-- é‡è¦æç¤ºå¡ç‰‡ -->
      <el-card shadow="hover" class="info-card warning-card">
        <template #header>
          <div class="card-header-custom">
            <el-icon size="24" color="#e53935"><WarningFilled /></el-icon>
            <span class="card-title">âš ï¸ é‡è¦è¯´æ˜</span>
          </div>
        </template>
        <div class="card-content">
          <el-alert
            title="å…³äºå‰ç«¯ç»´æŠ¤"
            type="warning"
            :closable="false"
            show-icon
          >
            <p style="margin: 10px 0;">
              ç“¦åŠ›é­”éŸ³å·¥åŠä¸“æ³¨äºåç«¯æœåŠ¡å’Œ TTS å¼•æ“ä¼˜åŒ–ï¼Œ<strong>ä¸è´Ÿè´£å‰ç«¯ç•Œé¢çš„æŒç»­ç»´æŠ¤å’ŒåŠŸèƒ½æ›´æ–°</strong>ã€‚
            </p>
            <p style="margin: 10px 0;">
              å¦‚æœæ‚¨éœ€è¦ä½¿ç”¨å®Œæ•´çš„å‰ç«¯åŠŸèƒ½ã€è·å–æœ€æ–°æ›´æ–°æˆ–è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œå»ºè®®è®¿é—®åŸé¡¹ç›®ï¼š
            </p>
            <div style="margin-top: 15px;">
              <el-button type="warning" @click="openGithub">
                <el-icon><Link /></el-icon>
                å‰å¾€éŸ³è°·é¡¹ç›®è·å–å®Œæ•´åŠŸèƒ½
              </el-button>
            </div>
          </el-alert>
        </div>
      </el-card>

      <!-- è”ç³»æ–¹å¼å¡ç‰‡ -->
      <el-card shadow="hover" class="info-card">
        <template #header>
          <div class="card-header-custom">
            <el-icon size="24" color="#4a90e2"><ChatDotRound /></el-icon>
            <span class="card-title">ğŸ“¬ è”ç³»æˆ‘ä»¬</span>
          </div>
        </template>
        <div class="card-content">
          <p class="contact-text">
            <strong>ç“¦åŠ›è‡ªä¹ å®¤å®˜ç½‘ï¼š</strong>
            <a href="https://rrairr.cn" target="_blank" class="link">rrairr.cn</a>
          </p>
          <p class="contact-text">
            <strong>éŸ³è°·é¡¹ç›®åœ°å€ï¼š</strong>
            <a href="https://github.com/xcLee001/SonicVale" target="_blank" class="link">github.com/xcLee001/SonicVale</a>
          </p>
        </div>
      </el-card>
    </div>

  </div>
</template>

<script setup>
import { ref } from "vue"
import { Star, Link, InfoFilled, WarningFilled, ChatDotRound } from "@element-plus/icons-vue"

// æç¤ºè¯è¯´æ˜å¼¹çª—
const noticeVisible = ref(false)

// æ‰“å¼€ GitHub é¡¹ç›®
function openGithub() {
  window.open('https://github.com/xcLee001/SonicVale', '_blank')
}
</script>

<style scoped>
.prompt-manager {
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
}

.header-bar {
  margin-bottom: 30px;
}

.page-title {
  font-size: 28px;
  font-weight: bold;
  color: #303133;
  margin: 0;
}

.content-area {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.info-card {
  border-radius: 12px;
  transition: all 0.3s ease;
}

.info-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
}

.card-header-custom {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 18px;
  font-weight: bold;
  color: #303133;
}

.card-title {
  font-size: 18px;
}

.card-content {
  padding: 10px 0;
  line-height: 1.8;
}

.thanks-text {
  font-size: 15px;
  color: #606266;
  margin: 10px 0;
}

.project-link {
  margin-top: 20px;
  text-align: center;
}

.section-title {
  font-size: 16px;
  font-weight: bold;
  color: #303133;
  margin: 20px 0 10px 0;
}

.feature-list,
.tech-list {
  list-style: none;
  padding: 0;
  margin: 10px 0;
}

.feature-list li,
.tech-list li {
  padding: 8px 0;
  font-size: 14px;
  color: #606266;
  border-bottom: 1px dashed #e4e7ed;
}

.feature-list li:last-child,
.tech-list li:last-child {
  border-bottom: none;
}

.warning-card {
  border: 2px solid #ffd43b;
  background: #fffbf0;
}

.contact-text {
  font-size: 14px;
  color: #606266;
  margin: 10px 0;
}

.link {
  color: #409eff;
  text-decoration: none;
  font-weight: bold;
}

.link:hover {
  text-decoration: underline;
}

/* æç¤ºè¯è¯´æ˜å¼¹çª—æ ·å¼ */
.notice-content {
  line-height: 1.8;
}

.notice-content p {
  margin: 15px 0;
  font-size: 14px;
  color: #606266;
}

.notice-content code {
  display: block;
  background: #f5f7fa;
  padding: 10px;
  border-radius: 4px;
  font-family: 'Courier New', monospace;
  font-size: 13px;
  color: #e53935;
  margin-top: 8px;
  line-height: 1.6;
}

.notice-content strong {
  color: #303133;
  font-weight: 600;
}

.toolbar {
  display: flex;
  align-items: center;
  gap: 10px;
}
</style>
